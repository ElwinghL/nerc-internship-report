\section{Pulse Width Modulation CHDK Script}
\label{app:pwm}

The script used to control the camera functions remotely through the CHDK cable
using PWM is shown below. It is taken directly from the APM wiki page on CHDK
camera
control\footurl{http://plane.ardupilot.com/wiki/common-chdk-camera-control-tutorial/}.

\inputminted{vb.net}{code/3DR_Shoot.bas}

The variable \texttt{k}, set equal to the current power going into the camera
through the USB port, corresponds to different pulse widths as given by Table
\ref{tab:pwm}\footurl{http://plane.ardupilot.com/wiki/common-chdk-camera-control-tutorial/}.

\begin{table}
    \begin{center}
        \begin{tabular}{| c | c |}
            \hline
            \textbf{Pulse Width (ms)} & \textbf{get\_usb\_power} \\
            \hline
            1,900 & \textless 5 \\
            1,500 & \textgreater 4 and \textless 8 \\
            1,100 & \textgreater 7 and \textless 110 \\
            \hline
        \end{tabular}
        \caption{The conversion between PWM widths and the value taken from
        \texttt{get\_usb\_power}.}
        \label{tab:pwm}
    \end{center}
\end{table}
